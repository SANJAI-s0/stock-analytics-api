# Stock Analytics API

A FastAPI backend that provides company information, real-time stock market data, historical prices, and analytical insights using Yahoo Finance. Includes a simple static HTML frontend served by the same app for easy testing and demonstration.

---

## Features
- Company profile information (industry, sector, officers)
- Real-time market data (price, change, volume, market state)
- Historical market data with date range and interval support
- Analytical insights (SMA-based trend, volatility, recommendation)
- Swagger (OpenAPI) docs auto-generated by FastAPI
- Simple static frontend (static/index.html) served by FastAPI

---

## Docker-ready
## Tech Stack
- Python 3.12
- FastAPI
- Uvicorn
- yfinance
- pandas, numpy
- pydantic

---

## ğŸ“ Full Project Structure
```bash
stock-analytics-api/
â”‚
â”œâ”€â”€ app/
â”‚   â”‚
â”‚   â”œâ”€â”€ main.py                     # FastAPI app entry point
â”‚   â”‚
â”‚   â”œâ”€â”€ api/                        # API route definitions
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ company.py              # /company endpoint
â”‚   â”‚   â”œâ”€â”€ market.py               # /market endpoint
â”‚   â”‚   â”œâ”€â”€ history.py              # /history endpoint
â”‚   â”‚   â””â”€â”€ analysis.py             # /analysis endpoint
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                       # Core app configuration
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ config.py               # Environment & app config
â”‚   â”‚   â””â”€â”€ logger.py               # Logging setup
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                     # Pydantic schemas
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ schemas.py              # Request/response models
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                   # Business logic layer
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ yahoo_client.py          # Yahoo Finance integration
â”‚   â”‚   â””â”€â”€ analytics.py             # Analysis logic
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                      # Utility helpers
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ validators.py            # Date & input validation
â”‚   â”‚
â”‚   â””â”€â”€ tests/                      # Test files
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ test_company.py
â”‚       â”œâ”€â”€ test_market.py
â”‚       â”œâ”€â”€ test_history.py
â”‚       â””â”€â”€ test_analysis.py
â”‚
â”œâ”€â”€ static/                         # Frontend (served by FastAPI)
â”‚   â””â”€â”€ index.html                  # Simple HTML frontend
â”‚
â”œâ”€â”€ docs/                           # Documentation assets
â”‚   â””â”€â”€ diagrams/
â”‚       â””â”€â”€ architecture.svg        # Project architecture diagram
â”‚
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ python.yml              # GitHub Actions CI (optional)
â”‚
â”œâ”€â”€ requirements.txt                # Python dependencies
â”œâ”€â”€ Dockerfile                      # Docker configuration
â”œâ”€â”€ .env                            # Environment variables
â”œâ”€â”€ .gitignore                      # Git ignored files
â”œâ”€â”€ README.md                       # Project overview
â”œâ”€â”€ LICENSE                         # (Optional) License
```

---

## Architecture
```
+------------------+
|   Web Browser    |
| (User / Client)  |
+------------------+
          |
          | HTTP Requests
          v
+------------------+
|  Frontend UI     |
| static/index.html|
| (Served by API)  |
+------------------+
          |
          | REST API Calls
          v
+------------------------------+
|        FastAPI App           |
|        (app/main.py)         |
+------------------------------+
   |        |        |        |
   v        v        v        v
Company   Market   History  Analysis
API       API      API      API
Routes    Routes   Routes   Routes
(app/api/*)
   |        |        |        |
   +--------+--------+--------+
            |
            v
+------------------------------+
|        Service Layer         |
|  yahoo_client.py             |
|  analytics.py                |
+------------------------------+
            |
            v
+------------------------------+
|      Yahoo Finance API       |
|        (yfinance)            |
+------------------------------+
            |
            v
+------------------------------+
|   Data Processing Layer      |
|  Pandas & NumPy              |
+------------------------------+
```

---

## Installation
```
git clone https://github.com/SANJAI-s0/stock-analytics-api.git
```
```
cd stock-analytics-api
```

### Create the Virtual Environment:
```
python -m venv .venv
```

### Initialize the Environment:
**Windows**
```
.venv\Scripts\activate
```
**Mac/Linux**
```
source .venv/bin/activate
```

### Install Dependencies
```
pip install -r requirements.txt
```

---

## Run locally
```
uvicorn app.main:app --reload
```

**Open:**
1. Frontend: http://127.0.0.1:8000/
2. Swagger UI: http://127.0.0.1:8000/docs

---

## API Endpoints
### Company Information
```
GET /company/{symbol}
```

### Example: /company/AAPL
**Market Data**
```
GET /market/{symbol}
```

### Example: /market/TSLA
**Historical Data**
```
POST /history
```

### Body example:
```
{
  "symbol": "AAPL",
  "startDate": "2023-01-01",
  "endDate": "2023-12-31",
  "interval": "1d"
}
```

### Analytical Insights
```
POST /analysis
```

### Body example:
```
{
  "symbol": "AAPL",
  "startDate": "2023-01-01",
  "endDate": "2023-12-31"
}
```

---

## Frontend
A lightweight static HTML frontend (static/index.html) is served at the root (/). It provides a UI to test all endpoints (company, market, history, analysis) using the Fetch API. No build step or framework required.

---

## Screenshots

## Frontend Interface
<img width="1200" height="800" alt="image" src="https://github.com/user-attachments/assets/1e0ebe15-b007-4657-969e-40deb9258f21" />

---

## Swagger API Documentation
<img width="1200" height="800" alt="image" src="https://github.com/user-attachments/assets/7aa8e9ad-016b-4771-a1e9-cb81f6c86763" />
<br><br>
<img width="1200" height="800" alt="image" src="https://github.com/user-attachments/assets/6174e601-b3a1-456c-b69f-93b7161dedfe" />

---

## API Response Example
<img width="1200" height="800" alt="image" src="https://github.com/user-attachments/assets/b3169c04-d223-4f65-83ab-fc369d20da0e" />
<br><br>
<img width="1200" height="800" alt="image" src="https://github.com/user-attachments/assets/1adf404a-9e7b-4ab6-bd5e-80f1798eb4c9" />
<br><br>
<img width="1200" height="800" alt="image" src="https://github.com/user-attachments/assets/44cff8af-6919-4be2-b04b-386dc7e8efab" />

---

## Tests
A basic test scaffolding is included. To run:
```
pytest
```
(Add real unit/integration tests before production use.)

---

## Docker
Build:
```
docker build -t stock-analytics-api .
```
Run:
```
docker run -p 8000:8000 stock-analytics-api
```

---

## Contributing
- Fork the repo
- Create a feature branch (git checkout -b feat/name)
- Commit changes, push, and open a PR

Please include clear commit messages and a short description of changes.

---

## Author
Sanjai

---

## License
This project is available for academic and personal use. Add a license file if you plan to publish it publicly (e.g., MIT).

---
